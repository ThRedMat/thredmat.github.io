---
import BaseLayout from "../layouts/BaseLayout.astro";

import ContactCTA from "../components/ContactCTA.astro";
import Hero from "../components/Hero.astro";
---

<BaseLayout
  title="À propos | Mathieu DARRIBAU"
  description="Découvrez le parcours de Mathieu DARRIBAU, développeur web full-stack spécialisé React et PHP à Bordeaux."
>
  <div class="stack gap-20">
    <main class="wrapper about">
      <div class="fade-in">
        <Hero title="À propos de moi" tagline="Découvrez mon parcours, mes expériences et mes compétences.">
          <img
            width="1553"
            height="873"
            src="/assets/work.webp"
            alt="Mathieu DARRIBAU au travail"
          />
        </Hero>
      </div>

      <section class="fade-in">
        <h2 class="section-title">Parcours</h2>
        <div class="content">
          <p>
            Développeur Fullstack diplômé d'un <strong>BAC+5</strong>, j'ai forgé mon expertise au cœur de projets d'envergure, notamment durant <strong>2 ans en alternance chez SNCF Réseau</strong>. Cette expérience au sein d'une structure aux enjeux critiques m'a inculqué une grande rigueur technique et une forte capacité d'adaptation.
          </p>
          <br />
          <p>
            Maîtrisant l'écosystème JavaScript (<strong>React, Node.js</strong>) ainsi que l'univers PHP (<strong>Symfony</strong>), j'aime concevoir des solutions numériques innovantes et performantes. Je reste en veille constante pour intégrer les meilleures pratiques d'un secteur qui évolue sans cesse.
          </p>
          <br />
          <p>
            Passionné par les jeux de stratégie, je transpose cette vision analytique dans mon code : anticiper les problématiques, structurer l'architecture et privilégier le travail d'équipe (Pair Programming, Agile) pour stimuler l'innovation.
          </p>
        </div>
      </section>

      <section class="fade-in">
        <h2 class="section-title">Diplômes</h2>
        <div class="content">
          <p>
            <strong>Expert en Informatique et Systèmes d'Information</strong> <br />
            Spécialité Développement Web (Titre RNCP de niveau 7 - BAC+5).
          </p>
        </div>
      </section>

      <section class="fade-in">
        <h2 class="section-title">Compétences</h2>
        <div class="content">
          <p>
            <strong>Soft Skills :</strong> Autonome, Rigueur ferroviaire, Esprit d'équipe, Sens de l'organisation, Curiosité technique.
          </p>
          <p>
            <strong>Méthodes :</strong> Agile (Scrum), Documentation, Gestion de projet.
          </p>
        </div>
      </section>
    </main>

    <div class="fade-in">
        <ContactCTA />
    </div>
  </div>
</BaseLayout>

<style>
  .about {
    display: flex;
    flex-direction: column;
    gap: 3.5rem;
  }

  /* --- STYLE DE L'ANIMATION FADE-IN --- */
  .fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  img {
    margin-top: 1.5rem;
    border-radius: 1.5rem;
    box-shadow: var(--shadow-md);
  }

  section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    color: var(--gray-200);
  }

  .section-title {
    grid-column-start: 1;
    font-size: var(--text-xl);
    color: var(--gray-0);
  }

  .content {
    grid-column: 2 / 4;
  }

  .content strong {
    color: var(--gray-0);
  }

  @media (min-width: 50em) {
    .about {
      display: grid;
      grid-template-columns: 1fr 60% 1fr;
    }

    .about > :global(:first-child) {
      grid-column-start: 2;
    }

    section {
      display: contents;
      font-size: var(--text-lg);
    }
  }
</style>

<script>
  // Script pour déclencher l'apparition au scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);

  // On observe tous les éléments avec la classe .fade-in
  document.querySelectorAll('.fade-in').forEach((element) => {
    observer.observe(element);
  });
</script>